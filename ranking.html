<!DOCTYPE html>
<html lang = "pt">
<head>
    <meta charset="UTF-8"/>
    <title>Campo Minado</title>
    <link rel="stylesheet" href="style.css" type="text/css">
    
    <!-- fonte usada em algumas partes do site-->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Odibee+Sans&display=swap');
    </style>
</head>

<body>
	<section id="tela">

        <section class="cabecalho">
                <h1 class="titulo">Ranking</h1>
        </section>            
        
        <table class="ranking" id="rankingTable">
            <tr>
                <th>Nome</th>
                <th>Dimensoes</th>
                <th>Tempo Obtido</th>
            </tr>
            
            <!-- <tr>
                <td>player</td>
                <td>dados</td>
            </tr>
            <tr>
                <td>player</td>
                <td>dados</td>
            </tr>
            <tr>
                <td>player</td>
                <td>dados</td>
            </tr>
            <tr>
                <td>player</td>
                <td>dados</td>
            </tr>
            <tr>
                <td>player</td>
                <td>dados</td>
            </tr>
            <tr>
                <td>player</td>
                <td>dados</td>
            </tr>
            <tr>
                <td>player</td>
                <td>dados</td>
            </tr>
            <tr>
                <td>player</td>
                <td>dados</td>
            </tr>
            <tr>
                <td>player</td>
                <td>dados</td>
            </tr>
            <tr>
                <td>player</td>
                <td>dados</td>
            </tr> -->

        </table>
    
        <br>
        <button class="normal" id="voltar" type="button">VOLTAR</button>
    
        <script>
            
            registers = JSON.parse(sessionStorage.getItem("registros"));

            let n = sessionStorage.getItem("nome");   
            let d = sessionStorage.getItem("dimensao");
            let t = sessionStorage.getItem("tempo");
            let r = sessionStorage.getItem("resultado");
            //let ganhouTest = sessionStorage.getItem("ganhouTest");
            
            var numLinhas = 0;
            
            function myCreateFunction(registers) {

                //ordenação da coluna tempo

                var table = document.getElementById("rankingTable");
                
                registers.forEach(function(registro){
                    //registro.resultado == "ganhou"
                    //ganhouTest == 1
                    if (registro.resultado == "ganhou"){
                        
                        // if (numLinhas == 11) {
                        //     document.getElementById("myTable").deleteRow(11);
                        // } else {
                            var row = table.insertRow(-1);
            
                            var cell1 = row.insertCell(0);
                            var cell2 = row.insertCell(1);
                            var cell3 = row.insertCell(2);

                            cell1.innerHTML = registro.nome;
                            cell2.innerHTML = registro.dimensao;
                            cell3.innerHTML = registro.tempo;

                            //numLinhas = numLinhas + 1;
                        }
                })
            }      
             
    
            myCreateFunction(registers);
    
        </script>

        <script>
            document.getElementById("voltar").onclick = 
            function() {
                location.href = ("index.html");
            };
        </script>

    </section>
</body>		
</html>